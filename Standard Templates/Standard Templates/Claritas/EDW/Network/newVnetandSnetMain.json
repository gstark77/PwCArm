{
  "$schema": "https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {

  },
  "variables": {
    /*  
    +---------------------------------------------------------------------------------------------------------+
    |  Enter the path for all linked templates using the following three variables.                           |
    +---------------------------------------------------------------------------------------------------------+*/
    "templateBaseUrl": "https://raw.githubusercontent.com/gstark77/PwCArm/master/Standard%20Templates/Standard%20Templates/",
    "vnetTemplateFolderPath": "Claritas/EDW/Network/",
    "vnetTemplateFileName": "newVnetandSnet.json",



    "objNetwork": {
      "vnetName": "vnet-edwdev",
      "vnetPrefix": "10.100.32.0/21",
      "subnets": {
        "web": {
          "name": "snet-edwdevweb",
          "prefix": "10.100.32.0/24",
          "vnet": "vnet-edwdev"
        },
        "app": {
          "name": "snet-edwdevapp",
          "prefix": "10.100.33.0/24",
          "vnet": "vnet-edwdev"
        },
        "dba": {
          "name": "snet-edwdevdba",
          "prefix": "10.100.34.0/24",
          "vnet": "vnet-edwdev"
        },
        "rep": {
          "name": "snet-edwdevrep",
          "prefix": "10.100.34.0/24",
          "vnet": "vnet-edwdev"
        }
      }
    }/*,
    "objPrdNetwork": {
      "vnetName": "vnet-edwdprd",
      "vnetPrefix": "10.103.33.0/21",
      "subnets": {
        "web": {
          "name": "snet-edwprdweb",
          "prefix": "10.103.32.0/24",
          "vnet": "vnet-edwdev"
        },
        "app": {
          "name": "snet-edwprdapp",
          "prefix": "10.103.33.0/24",
          "vnet": "vnet-edwdev"
        },
        "dba": {
          "name": "snet-edwprddba",
          "prefix": "10.103.34.0/24",
          "vnet": "vnet-edwdev"
        },
        "rep": {
          "name": "snet-edwprdrep",
          "prefix": "10.103.34.0/24",
          "vnet": "vnet-edwdev"
        }
      }
    }*/
  },
  "resources": [
    {
      "name": "[concat('from_main__',uniqueString(resourceGroup().id))]",
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "2016-09-01",

      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[concat(variables('templateBaseUrl'),variables('vnetTemplateFolderPath'), variables('vnetTemplateFileName'))]",
          "contentVersion": "1.0.0.0"
        },
        "parameters": {

          "objNetworkSettings": {
            "value": {
              "strVnetName": "[ variables('objNetwork').vnetName ]",
              "strVnetPrefix": "[ variables('objNetwork').vnetPrefix ]",
              "strSnetWeb": "[variables('objNetwork').subnets.web]"
              /*
              "strSnetWebName": "[ variables('objNetwork').subnets.web.name]",
              "strSnetWebPrefix": "[ variables('objNetwork').subnets.web.name]",
              "strSnetAppName": "[ variables('objNetwork').subnets.app.name]",
              "strSnetAppPrefix": "[ variables('objNetwork').subnets.app.name]",
              "strSnetDbaName": "[ variables('objNetwork').subnets.dba.name]",
              "strSnetDbaPrefix": "[ variables('objNetwork').subnets.dba.name]"
                */
            }
          }
        }
      }
    }
  ],
  "outputs": {
  }
}
